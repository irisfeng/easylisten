# è½»å¬ (EasyListen)

ğŸš€ è®©é˜…è¯»å˜å¾—è½»æ¾ - æ‚¨çš„ä¸ªäººæœ‰å£°ä¹¦è½¬æ¢å’Œæ’­æ”¾å¹³å°ã€‚

> âœ¨ **é¡¹ç›®çŠ¶æ€:** å¼€å‘ä¸­ (In Development)

## æ ¸å¿ƒç›®æ ‡

"è½»å¬" çš„æ ¸å¿ƒç›®æ ‡æ˜¯æˆä¸ºä¸€ä¸ª**ä¸ªäººæœ‰å£°ä¹¦è½¬æ¢å’Œæ’­æ”¾å¹³å°**ã€‚ç”¨æˆ·å¯ä»¥ä¸Šä¼ è‡ªå·±çš„ç”µå­ä¹¦æ–‡ä»¶ï¼ˆå¦‚ PDFã€EPUBã€TXTã€DOCXï¼‰ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å°†è¿™äº›æ–‡ä»¶å†…å®¹æå–æˆçº¯æ–‡æœ¬ï¼Œå¹¶ä¸ºæœªæ¥çš„æ–‡æœ¬è½¬è¯­éŸ³ï¼ˆTTSï¼‰åŠŸèƒ½åšå¥½å‡†å¤‡ï¼Œæœ€ç»ˆå®ç°"è®©é˜…è¯»å˜å¾—è½»æ¾"ã€‚

## åŠŸèƒ½ & è¿›åº¦

### âœ… å·²å®ç° (Implemented)

*   **ç”¨æˆ·è®¤è¯:** åŸºäº NextAuth.js çš„å‡­è¯ç™»å½•å’Œä¼šè¯ç®¡ç†ã€‚
*   **å¤šæ ¼å¼æ–‡ä»¶ä¸Šä¼ :** æ”¯æŒ PDF, EPUB, DOCX, TXT ç­‰å¤šç§ä¸»æµç”µå­ä¹¦æ ¼å¼ã€‚
*   **å®‰å…¨æ–‡ä»¶å­˜å‚¨:** é€šè¿‡é¢„ç­¾å URL å®‰å…¨åœ°å°†æ–‡ä»¶ä¸Šä¼ è‡³ Cloudflare R2 å¯¹è±¡å­˜å‚¨ã€‚
*   **åç«¯æ–‡ä»¶è§£æ:** åœ¨åç«¯ API è·¯ç”±ä¸­ï¼Œæ ¹æ®æ–‡ä»¶ç±»å‹è‡ªåŠ¨è°ƒç”¨ç›¸åº”çš„è§£æå™¨ (`pdf-parse`, `mammoth` ç­‰) æå–çº¯æ–‡æœ¬ã€‚
*   **æ•°æ®æŒä¹…åŒ–:** ä½¿ç”¨ Prisma å’Œ PostgreSQL å­˜å‚¨ç”¨æˆ·ä¿¡æ¯ã€ä¹¦ç±å…ƒæ•°æ®åŠå¤„ç†çŠ¶æ€ã€‚
*   **å“åº”å¼ UI:** ä½¿ç”¨ Tailwind CSS å’Œ Shadcn/UI æ„å»ºçš„åŸºç¡€å‰ç«¯ç•Œé¢ã€‚

### â³ è®¡åˆ’ä¸­ (Planned)

*   **æ ¸å¿ƒæ’­æ”¾åŠŸèƒ½:** é›†æˆæ–‡æœ¬è½¬è¯­éŸ³ (TTS) æœåŠ¡ï¼Œå¹¶å¼€å‘å‰ç«¯éŸ³é¢‘æ’­æ”¾å™¨ã€‚
*   **ä¹¦åº“ç®¡ç†:** å®ç°ç”¨æˆ·ä¸ªäººä¹¦åº“çš„å±•ç¤ºã€æœç´¢å’Œç®¡ç†åŠŸèƒ½ã€‚
*   **è®¢é˜…ç³»ç»Ÿ:** é›†æˆ Stripe å®ç°ä»˜è´¹è®¢é˜…ï¼Œè§£é”é«˜çº§åŠŸèƒ½ã€‚
*   **å›½é™…åŒ– (i18n):** æ”¯æŒå¤šè¯­è¨€ç•Œé¢ã€‚
*   **æ€§èƒ½ä¼˜åŒ–ä¸éƒ¨ç½²:** ä¼˜åŒ–åº”ç”¨æ€§èƒ½å¹¶éƒ¨ç½²åˆ° Vercelã€‚

## æŠ€æœ¯æ ˆ

*   **æ¡†æ¶:** [Next.js](https://nextjs.org/) (App Router & Turbopack)
*   **è¯­è¨€:** [TypeScript](https://www.typescriptlang.org/)
*   **UI:** [React](https://react.dev/), [Tailwind CSS](https://tailwindcss.com/), [Shadcn/UI](https://ui.shadcn.com/)
*   **è®¤è¯:** [NextAuth.js](https://next-auth.js.org/)
*   **ORM:** [Prisma](https://www.prisma.io/)
*   **æ•°æ®åº“:** [PostgreSQL](https://www.postgresql.org/)
*   **å¯¹è±¡å­˜å‚¨:** [Cloudflare R2](https://www.cloudflare.com/developer-platform/r2/)
*   **æ–‡ä»¶è§£æ:** [pdf-parse](https://www.npmjs.com/package/pdf-parse), [mammoth](https://www.npmjs.com/package/mammoth), [unzipper](https://www.npmjs.com/package/unzipper)

## é¡¹ç›®ç»“æ„ (å½“å‰)

```
easylisten/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ (auth)/
â”‚   â”‚   â”‚   â””â”€â”€ sign-in/
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/[...nextauth]/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”œâ”€â”€ process-book/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”œâ”€â”€ upload/
â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”œâ”€â”€ HomePage.tsx      # ä¸»é¡µ (åŒ…å«ä¸Šä¼ åŠŸèƒ½)
â”‚   â”‚   â”œâ”€â”€ globals.css
â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â””â”€â”€ page.tsx          # å…¥å£é¡µé¢
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ ui/               # Shadcn/UI ç»„ä»¶
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ db.ts             # Prisma Client
â”‚   â”‚   â”œâ”€â”€ parser.ts         # å¤šæ ¼å¼æ–‡ä»¶è§£æé€»è¾‘
â”‚   â”‚   â””â”€â”€ utils.ts          # é€šç”¨å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ next-auth.d.ts
â”‚   â”œâ”€â”€ auth.ts               # NextAuth.js é…ç½®
â”‚   â””â”€â”€ middleware.ts         # è®¤è¯ä¸­é—´ä»¶
â”œâ”€â”€ prisma/
â”‚   â””â”€â”€ schema.prisma         # æ•°æ®åº“æ¨¡å‹
â”œâ”€â”€ public/
â”‚   â””â”€â”€ tesseract/            # (Tesseract.js æ®‹ç•™æ–‡ä»¶ï¼Œå¯æ¸…ç†)
â”œâ”€â”€ .env.local.example        # ç¯å¢ƒå˜é‡ç¤ºä¾‹ (éœ€è¦åˆ›å»º)
â”œâ”€â”€ next.config.ts            # Next.js é…ç½®æ–‡ä»¶
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

## æœ¬åœ°å¯åŠ¨

1.  **å…‹éš†é¡¹ç›®**
    ```bash
    git clone <your-repository-url>
    cd easylisten
    ```

2.  **å®‰è£…ä¾èµ–**
    ```bash
    npm install
    ```

3.  **è®¾ç½®ç¯å¢ƒå˜é‡**
    å¤åˆ¶ `.env.local.example` (å¦‚æœä¸å­˜åœ¨è¯·æ‰‹åŠ¨åˆ›å»º) ä¸º `.env.local`ï¼Œå¹¶å¡«å…¥ä»¥ä¸‹å˜é‡ï¼š
    ```env
    # Prisma
    DATABASE_URL="postgresql://USER:PASSWORD@HOST:PORT/DATABASE"

    # NextAuth.js
    AUTH_SECRET="your-super-secret-auth-secret" #
    
    # Cloudflare R2
    R2_ACCOUNT_ID="your-r2-account-id"
    R2_ACCESS_KEY_ID="your-r2-access-key-id"
    R2_SECRET_ACCESS_KEY="your-r2-secret-access-key"
    R2_BUCKET_NAME="your-r2-bucket-name"
    ```
    *è¿è¡Œ `openssl rand -base64 32` å¯ä»¥ç”Ÿæˆä¸€ä¸ªå®‰å…¨çš„ `AUTH_SECRET`ã€‚*

4.  **åŒæ­¥æ•°æ®åº“**
    ```bash
    npx prisma db push
    ```

5.  **è¿è¡Œå¼€å‘æœåŠ¡å™¨**
    ```bash
    npm run dev
    ```

åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ [http://localhost:3000](http://localhost:3000) æŸ¥çœ‹ã€‚

---
è¿™ä»½æ–‡æ¡£æ—¨åœ¨å¸®åŠ©æˆ‘ä»¬ä¿æŒå¯¹é¡¹ç›®å…¨å±€çš„æ¸…æ™°è®¤è¯†ï¼Œå¹¶ä½œä¸ºæœªæ¥å¼€å‘çš„è·¯çº¿å›¾ã€‚
